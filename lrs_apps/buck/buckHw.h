/*
 * buckHw.h
 *
 */

#ifndef BUCK_HW_H_
#define BUCK_HW_H_

//=============================================================================
/*-------------------------------- Includes ---------------------------------*/
//=============================================================================
#include "stdint.h"

#include "buckConfig.h"
//=============================================================================

//=============================================================================
/*------------------------------- Definitions -------------------------------*/
//=============================================================================

typedef void (*buckHwAdcIrqHandle_t)(void *ref);

typedef struct{

    void *intc;
    buckHwAdcIrqHandle_t irqhandle;

}buckHwInitConfig_t;

//=============================================================================

//=============================================================================
/*-------------------------------- Functions --------------------------------*/
//=============================================================================
//-----------------------------------------------------------------------------
int32_t buckHwInitialize(buckHwInitConfig_t *config);
//-----------------------------------------------------------------------------
int32_t buckHwStatus(void);
//-----------------------------------------------------------------------------
void buckHwStatusClear(void);
//-----------------------------------------------------------------------------
void buckHwSetPwmReset(uint32_t reset);
//-----------------------------------------------------------------------------
uint32_t buckHwGetPwmReset(void);
//-----------------------------------------------------------------------------
void buckHwSetPwmOutputEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t buckHwGetPwmOutputEnable(void);
//-----------------------------------------------------------------------------
void buckHwSetPwmOvfTriggerEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t buckHwGetPwmOvfTriggerEnable(void);
//-----------------------------------------------------------------------------
void buckHwSetPwmInv(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t buckHwGetPwmInv(void);
//-----------------------------------------------------------------------------
void buckHwSetPwmFrequency(uint32_t freq);
//-----------------------------------------------------------------------------
uint32_t buckHwGetPwmFrequency(void);
//-----------------------------------------------------------------------------
void buckHwSetPwmDuty(float duty);
//-----------------------------------------------------------------------------
float buckHwGetPwmDuty(void);
//-----------------------------------------------------------------------------
void buckHwSetPwmDeadTime(float deadtime);
//-----------------------------------------------------------------------------
float buckHwGetPwmDeadTime(void);
//-----------------------------------------------------------------------------
void buckHwSetAdcEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t buckHwGetAdcEnable(void);
//-----------------------------------------------------------------------------
void buckHwSetAdcManualTrigger(uint32_t trigger);
//-----------------------------------------------------------------------------
uint32_t buckHwGetAdcManualTrigger(void);
//-----------------------------------------------------------------------------
void buckHwSetAdcInterruptEnable(uint32_t enable);
//-----------------------------------------------------------------------------
uint32_t buckHwGetAdcInterruptEnable(void);
//-----------------------------------------------------------------------------
void buckHwSetAdcSpiFreq(uint32_t freq);
//-----------------------------------------------------------------------------
uint32_t buckHwGetAdcSpiFreq(void);
//-----------------------------------------------------------------------------
int32_t buckHwGetMeasurements(void *meas);
//-----------------------------------------------------------------------------
int32_t buckHwApplyOutputs(void *outputs, int32_t size);
//-----------------------------------------------------------------------------
void buckHwDisable(void);
//-----------------------------------------------------------------------------
void buckHwEnable(void);
//-----------------------------------------------------------------------------
void buckHwControllerDisable(void);
//-----------------------------------------------------------------------------
void buckHwControllerEnable(void);
//-----------------------------------------------------------------------------
void buckHwSetInputRelay(uint32_t state);
//-----------------------------------------------------------------------------
uint32_t buckHwGetInputRelay(void);
//-----------------------------------------------------------------------------
void buckHwSetOutputRelay(uint32_t state);
//-----------------------------------------------------------------------------
uint32_t buckHwGetOutputRelay(void);
//-----------------------------------------------------------------------------
void buckHwSetMeasGains(buckConfigMeasGains_t *gains);
//-----------------------------------------------------------------------------
uint32_t buckHwGetMeasGains(buckConfigMeasGains_t *gains);
//-----------------------------------------------------------------------------
void buckHwShutDown(void);
//-----------------------------------------------------------------------------
//=============================================================================

#endif /* BUCK_HW_H_ */
